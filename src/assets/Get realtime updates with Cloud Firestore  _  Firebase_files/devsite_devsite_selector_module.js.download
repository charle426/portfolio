(function(_ds){var window=this;var fda="track-type track-name track-metadata-eventdetail track-metadata-position track-metadata-region-tag track-metadata-endgoal".split(" "),T6=function(a){a.g&&(_ds.I(a.eventHandler),a.eventHandler.listen(a.g,"click",b=>{gda(a,b)}))},ida=function(a){var b=[...a.children];for(var c of b)if(c.matches(".ds-selector-tabs,.ds-selector-dropdown,.code-sample,.data-sample")){if(b=c.getAttribute("data-ds-scope"))a.scope=b;const d=["ds-selector-tabs","ds-selector-dropdown","code-sample","data-sample"];b=
[...c.classList].filter(e=>!d.includes(e));a.classList.add(...b);c.classList.contains("devsite-no-overflow")&&(a.noOverflow=!0);for(;c.childNodes.length;)a.appendChild(c.childNodes[0]);c.remove()}c=a.querySelectorAll(".kd-tabbed-horz,.kd-tabbed-vert");for(const d of c)d.matches(".kd-tabbed-horz,.kd-tabbed-vert")&&hda(a,d)},jda=async function(a){await window.customElements.whenDefined("devsite-tabs");var b=a.querySelector(":scope > devsite-tabs");b?await b.h:b=new _ds.UT;a.g=b;a.g.isTabList=!0;a.noOverflow&&
(a.g.noOverflow=!0);a.firstElementChild&&a.firstElementChild!==a.g?a.insertBefore(a.g,a.firstElementChild):a.contains(a.g)||a.appendChild(a.g);T6(a);b=a.querySelectorAll(":scope > section");for(var c of b){a.v.push(c);var d=c.dataset.tab;b=void 0;var e=!0,f=!0;let v="",y="",B=a.ownerDocument.createElement("tab");if(d){var g=void 0;if(b=null==(g=a.g)?void 0:_ds.DT(g,d))B=b,e=!1,B.id&&(v=B.id)}d=a.ownerDocument.createElement("a");var h=B.querySelector("a");h&&(d=h,f=!1);b&&f&&(d.textContent=b.textContent,
_ds.nk(b));B.contains(d)||B.appendChild(d);B.removeAttribute("aria-selected");if(e){e=c.querySelector("h1,h2,h3,h4,h5,h6");let D;if(e&&""!==(null==(D=e.textContent)?void 0:D.trim())){(e.classList.contains("two-line-tab")||e.querySelector(".two-line-tab"))&&B.classList.add("devsite-two-line");f="";e.id&&(y=e.id);h=e.querySelector(".firebase-platform-label");let N;if(null==(N=h)?0:N.textContent)f=h.textContent.trim(),h.remove();h=e.textContent||"";var k=c.querySelector("[tab-label]");let L;if(null==
(L=k)?0:L.getAttribute("tab-label"))f=`${k.getAttribute("tab-label")}`;if(e.hasAttributes())for(const R of fda)k=e.getAttribute(R),null!==k&&_ds.HI(a,R,k,d);e.remove();if(f)e=a.ownerDocument.createElement("span"),e.dataset.tabLabel=f,e.textContent=h.trim(),d.appendChild(e),v||(v=_ds.Il(`${h} ${f}`));else if(d.append(...e.childNodes),!v){let R;v=_ds.Il(null!=(R=h)?R:"")||"tab"}}else h="Error",e&&(h=e.getAttribute("data-text")||"Error"),f&&(d.textContent=h),v||(v=_ds.Il(h))}else if(!v){let D;v=_ds.Il(null!=
(D=B.textContent)?D:"")||"tab"}_ds.uT(B,"controls",`tabpanel-${v}`);B.id||(B.id=v);d.id||(d.id=`aria-tab-${v}`);d.href||_ds.re(d,_ds.le(`#${v}`));_ds.tT(d,"button");var l=void 0;b||null!=(l=a.g)&&_ds.ET(l,v)||(B.dataset.tab=v,y&&(B.id=y),_ds.HT(a.g,B));_ds.tT(c,"tabpanel");_ds.uT(c,"labelledby",`aria-tab-${v}`);c.dataset.tab=v;c.tabIndex=0;c.id=`tabpanel-${v}`}c=_ds.G().hash.substring(1);(l=a.v.find(v=>v.matches(".selected,.devsite-selected")))&&l.classList.remove("selected","devsite-selected");let m;
g=null==(m=a.g)?void 0:_ds.ET(m,c);if(c&&(null==g?0:g.dataset.tab))a.tabToSelect="",a.active=`${g.dataset.tab}`;else if(l)a.tabToSelect="",a.active=`${l.dataset.tab}`;else if(a.tabToSelect){var n,p=null==(n=a.g)?void 0:_ds.DT(n,a.tabToSelect);a.tabToSelect="";if(null==p?0:p.dataset.tab)a.active=p.dataset.tab}else{let v;if(n=null==(v=null==(p=a.g)?void 0:p.j[0])?void 0:v.dataset.tab)a.active=n}a.j.g();a.ready=!0},kda=async function(a){let b=null;var c=_ds.G();const d=c.hash.substring(1);let e;null!=
(e=a.g)&&_ds.ET(e,d)||((c=c.searchParams.get("tab"))&&(b=_ds.Il(c)),b||a.noPref||(b=await (await _ds.u()).getStorage().get("devsite-selector",a.scope)),b&&(a.tabToSelect=b))},gda=async function(a,b){if(!b.defaultPrevented&&(b.preventDefault(),b.stopPropagation(),document.body.dispatchEvent(new CustomEvent("devsite-close-overflow-tabs")),b.target)){b=b.target;for(var c;!c&&b&&b!==a;){var d=void 0;"TAB"===(null==(d=b)?void 0:d.tagName.toUpperCase())&&(c=b);let g;b=null==(g=b)?void 0:g.parentElement}var e;
if(null==(e=c)?0:e.dataset.tab){a.dispatchEvent(new CustomEvent("devsite-sticky-freeze",{bubbles:!0}));await _ds.hf();e=a.getBoundingClientRect();a.active=c.dataset.tab;c=[...a.ownerDocument.querySelectorAll(`devsite-selector[scope="${a.scope}"]:not([active="${a.active}"])`)];d=[];for(var f of c)f!==a&&d.push(f.h);await Promise.all(d);a.noPref||await lda(a.scope,a.active);f=a.getBoundingClientRect();c=_ds.hk(document);window.scrollTo({left:c.x,top:c.y+f.top-e.top});_ds.jf()}a.g&&(a=_ds.DT(a.g,a.active),
(null==a?0:a.id)&&_ds.ql(`#${a.id}`,!0))}},mda=async function(a,b=""){if(a.g){var c="",d=_ds.DT(a.g,a.active);d&&(_ds.NT(a.g,d),d.dataset.tab&&(c=d.dataset.tab));d=U6(a,b);var e=U6(a,a.active);if(null==e||!e.classList.contains("devsite-active")){if(e)null==d||d.classList.remove("devsite-active"),null==e||e.classList.add("devsite-active");else if(d&&a.active!==b){a.active=b;return}a.dispatchEvent(new CustomEvent("devsite-content-updated",{bubbles:!0}));b=[...a.ownerDocument.querySelectorAll(`devsite-selector[scope="${a.scope}"]:not([active="${c}"])`)];
c=[];for(const f of b)f!==a&&c.push(f.isReady());await Promise.allSettled(c);for(const f of b)f!==a&&f.active!==a.active&&(f.tabToSelect=a.active)}}},U6=function(a,b){if(b)return a.v.find(c=>c.matches(`[data-tab="${b}"]`))},lda=async function(a,b){await (await _ds.u()).getStorage().set("devsite-selector",a,b)},hda=function(a,b){var c=[...b.children];for(const d of c)if(d.matches("article")){c=a.ownerDocument.createElement("section");for(d.classList.contains("selected")&&c.classList.add("devsite-selected");d.childNodes.length;)c.appendChild(d.childNodes[0]);
const e=c.querySelector("header");if(e){const f=a.ownerDocument.createElement("h3");e.childNodes.length&&f.append(...e.childNodes);f.id=e.id;_ds.rk(f,e)}a.appendChild(c);d.remove()}b.remove()},V6=class extends _ds.II{Xa(){return this}constructor(){super(["devsite-tabs"]);this.scope="auto";this.active="";this.noOverflow=this.ready=!1;this.tabToSelect="";this.noPref=!1;this.j=new _ds.gf;this.eventHandler=new _ds.H;this.o=!1;this.g=null;this.v=[];this.ea=_ds.Ge((0,_ds.t)`track-type`,(0,_ds.t)`track-name`,
(0,_ds.t)`track-metadata-eventDetail`,(0,_ds.t)`track-metadata-position`,(0,_ds.t)`track-metadata-region-tag`,(0,_ds.t)`track-metadata-end-goal`)}async connectedCallback(){super.connectedCallback();this.o?T6(this):(this.o=!0,ida(this),await jda(this));await this.j.promise;await kda(this);await this.scrollToAnchor()}isReady(){return this.j.promise}async scrollToAnchor(){const a=_ds.G().hash;if(a){await this.h;const b=await _ds.u();let c;(null==(c=this.g)?0:_ds.ET(c,a.substring(1)))&&await b.scrollToAnchor(a)}}disconnectedCallback(){super.disconnectedCallback();
_ds.I(this.eventHandler)}updated(a){super.updated(a);a.has("active")&&this.active&&mda(this,a.get("active"));if(a.has("tabToSelect")&&this.tabToSelect&&this.g){var b;a=null==(b=this.g)?void 0:_ds.DT(b,this.tabToSelect);this.tabToSelect="";if(null==a?0:a.dataset.tab)this.active=a.dataset.tab}}};V6.prototype.disconnectedCallback=V6.prototype.disconnectedCallback;V6.prototype.connectedCallback=V6.prototype.connectedCallback;_ds.w([_ds.P({type:String,Oa:!0}),_ds.x(Object)],V6.prototype,"scope",void 0);
_ds.w([_ds.P({type:String,Oa:!0}),_ds.x(Object)],V6.prototype,"active",void 0);_ds.w([_ds.P({type:Boolean,Oa:!0}),_ds.x(Object)],V6.prototype,"ready",void 0);_ds.w([_ds.P({type:Boolean,Oa:!0,Aa:"no-overflow"}),_ds.x(Object)],V6.prototype,"noOverflow",void 0);_ds.w([_ds.P({type:String,Oa:!0,Aa:"tab-to-select"}),_ds.x(Object)],V6.prototype,"tabToSelect",void 0);_ds.w([_ds.P({type:Boolean,Oa:!0,Aa:"no-pref"}),_ds.x(Object)],V6.prototype,"noPref",void 0);try{customElements.define("devsite-selector",V6)}catch(a){console.warn("devsite.app.customElement.DevsiteSelector",a)};})(_ds_www);
