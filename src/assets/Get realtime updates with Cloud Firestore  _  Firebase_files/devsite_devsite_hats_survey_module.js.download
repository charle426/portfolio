(function(_ds){var window=this;var Q2=function(a){let b=a,c;return function(){if(b){const d=b;b=void 0;c=d.apply(this,arguments)}return c}};var R2=function(a,b,c){return a.g.then(function(d){const e=d[b];if(!e)throw Error(`Method not found: ${b}`);return e.apply(d,c)})},S2=class{constructor(a){this.g=a;a.then((0,_ds.Cf)(function(){},this),()=>{},this)}},U2=function(a,b,c){const d=Array(arguments.length-2);for(var e=2;e<arguments.length;e++)d[e-2]=arguments[e];e=T2(a,b).then(function(f){return f.apply(null,d)});return new S2(e)},V2={},T2=function(a,b){var c=V2[b];if(c)return c;c=(c=_ds.uf(b))?_ds.xm(c):(new _ds.tm(function(d,e){const f=
(new _ds.Yj(document)).createElement("SCRIPT");f.async=!0;_ds.Me(f,_ds.We(_ds.te(a)));f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||d()};f.onerror=e;(document.head||document.getElementsByTagName("head")[0]).appendChild(f)})).then(function(){const d=_ds.uf(b);if(!d)throw Error(`Failed to load ${b} from ${a}`);return d});return V2[b]=c};var W2={GOOGLE:"https://www.google.com",YD:"https://support.google.com",tD:"https://play.google.com"},X2=async function(a){for(const b of Object.values(W2))"granted"!==(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:b})).state&&a.g.push(b)};(new class{constructor(){this.g=[];this.h=[];this.v=Q2(async()=>{if("undefined"===typeof document||void 0===document.requestStorageAccessFor||void 0===navigator.permissions||void 0===navigator.permissions.query||location.hostname.match(".+\\.google\\.com$"))return Promise.resolve();await X2(this);0<this.g.length&&document.addEventListener("click",this.j)});this.j=()=>{if(!(0<this.h.length)){for(const a of this.g)try{this.h.push(document.requestStorageAccessFor(a))}catch(b){}Promise.all(this.h).then(()=>
{}).catch(()=>{}).finally(()=>{this.reset()})}}}reset(){document.removeEventListener("click",this.j)}}).v();var Y2=class{constructor(a){this.g=a}v(a){R2(this.g,"requestSurvey",arguments).o(()=>{},this)}j(a){R2(this.g,"presentSurvey",arguments).o(()=>{},this)}h(a){R2(this.g,"dismissSurvey",arguments).o(()=>{},this)}},Z2=new _ds.se(_ds.ui,"https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");T2(Z2,"help.service.Lazy.create").o(()=>{});var $2=function(){return"devsite-hats-survey"},d3=function(){if(a3){let a;null==(a=b3)||a.h({surveyMetadata:{sessionId:a3}});return c3.promise}return Promise.resolve()},e3=async function(a){var b=await _ds.u();const c=_ds.z(b.getConfig(),18);var d=a.getAttribute("listnr-id");d?(b={locale:b.getLocale()||"en",apiKey:c},d=U2(Z2,"help.service.Lazy.create",d,{apiKey:b.apiKey||b.apiKey,asxUiUri:b.asxUiUri||b.asxUiUri,environment:b.environment||b.environment,frdProductData:b.frdProductData||b.frdProductData,
frdProductDataSerializedJspb:b.ZE||b.frdProductDataSerializedJspb,helpCenterPath:b.helpCenterPath||b.helpCenterPath,locale:b.locale||b.locale||"en".replace(/-/g,"_"),nonce:b.nonce||b.nonce,productData:b.productData||b.productData,receiverUri:b.receiverUri||b.receiverUri,renderApiUri:b.renderApiUri||b.renderApiUri,theme:b.theme||b.theme,window:b.window||b.window}),b3=new Y2(d),a.g=b3):console.warn('<devsite-hats-survey> missing attribute "listnr-id"')},h3=function(a,b){let c;null==(c=a.g)||c.j({productData:{customData:{pageUrl:_ds.G().toString()}},
surveyData:b,colorScheme:1,authuser:0,customZIndex:1E4,listener:{surveyPrompted:d=>{a3=d.sessionId||null;c3=new _ds.gf;f3=c3.g},surveyClosed:()=>{a3=g3=null;f3()}}})},k3=class extends _ds.F{constructor(a){super();this.g=null;a&&(this.g=b3=a)}async connectedCallback(){g3=this;const a=this.getAttribute("hats-id");a&&a!==i3&&(await d3(),this.g||await e3(this),i3=a,await this.Rh(a))}disconnectedCallback(){g3=null;_ds.Qm(j3,document.body,"devsite-page-changed",()=>{g3||(d3(),i3=null)})}async Rh(a){await _ds.u();
let b;null==(b=this.g)||b.v({triggerId:a,callback:c=>{c.surveyData&&h3(this,c.surveyData)},authuser:0,enableTestingMode:!1})}};k3.prototype.renderSurvey=k3.prototype.Rh;k3.prototype.disconnectedCallback=k3.prototype.disconnectedCallback;k3.prototype.connectedCallback=k3.prototype.connectedCallback;k3.closeCurrentSurvey=d3;k3.getTagName=$2;var i3=null,a3=null,g3=null,c3=new _ds.gf,f3=c3.g,j3=new _ds.H,b3=void 0;try{customElements.define($2(),k3)}catch(a){console.warn("devsite.app.customElement.DevsiteHatsSurvey",a)};})(_ds_www);
